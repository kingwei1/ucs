(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9670ad34"],{"41c0":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"heartBeat"},[a("h1",{staticStyle:{"margin-bottom":"20px"}},[t._v("心跳配置")]),a("my-table",{staticStyle:{"max-width":"1500px"},attrs:{titles:t.tableTitle,tableData:t.tableData,operate:!0,flag:"heartBeat"},on:{editTable:t.editTable}})],1)},n=[],o=a("b26a"),s={name:"heartBeat",components:{myTable:o["a"]},data:function(){return{tableTitle:[{prop:"id",label:"id"},{prop:"describe",label:"名称"},{prop:"group",label:"所属分组"},{prop:"second",label:"心跳间隔秒数"},{prop:"status",label:"当前状态"}],tableData:[]}},created:function(){this.getTableList()},methods:{getTableList:function(){var t=this;this.$http.taskList().then((function(e){console.log(e),0==e.errorcode?t.tableData=e.data:t.$message.error(e.msg)})).catch((function(t){console.log(t)}))},editTable:function(t){var e=this;console.log(t);var a="已停止"==t.status?"start":"stop",l="已停止"==t.status?"启用":"终止";this.$confirm("确认"+l+'<span style="color:#E6A23C;margin:0 10px">'+t.describe+"</span>心跳保持?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){e.$http.taskControl({id:t.id,cmd:a}).then((function(t){console.log(t),0==t.errorcode?(e.getTableList(),e.$message.success(l+"成功")):e.$message.error(t.msg)})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))}}},r=s,c=a("2877"),i=Object(c["a"])(r,l,n,!1,null,null,null);e["default"]=i.exports},b26a:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{attrs:{data:t.tableData,"header-cell-style":t.headerColor,"cell-style":t.cellStyle,stripe:""}},[t._l(t.titles,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.prop,width:t.width,label:t.label,"class-name":t.prop,align:"center"}})})),t.operate?a("el-table-column",{attrs:{label:"操作",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return["system"==t.flag?a("div",[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(a){return t.edit(e.row)}}},[t._v("修改配置")])],1):t._e(),"heartBeat"==t.flag?a("div",[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(a){return t.edit(e.row)}}},[t._v("修改状态")])],1):t._e()]}}],null,!1,2876712029)}):t._e()],2)},n=[],o={name:"tableList",props:["tableData","titles","operate","flag"],data:function(){return{}},methods:{headerColor:function(t,e){return"background:\trgb(230, 230, 230);color:rgb(96, 98, 102)"},cellStyle:function(t,e,a,l){return"status"!=t.column.className||"成功"!=t.row.status&&"正在运行"!=t.row.status?"status"!=t.column.className||"失败"!=t.row.status&&"已停止"!=t.row.status?void 0:"color:rgba(255,147,117,1)":"color:rgba(16,217,176,1)"},edit:function(t){this.$emit("editTable",t)}}},s=o,r=(a("d9d4"),a("2877")),c=Object(r["a"])(s,l,n,!1,null,null,null);e["a"]=c.exports},bdce:function(t,e,a){},d9d4:function(t,e,a){"use strict";var l=a("bdce"),n=a.n(l);n.a}}]);
//# sourceMappingURL=chunk-9670ad34.48b3660a.js.map