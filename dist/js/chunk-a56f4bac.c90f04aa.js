(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a56f4bac"],{"12c4":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"system"},[l("h1",{staticStyle:{"margin-bottom":"20px"}},[e._v("系统配置")]),l("my-table",{staticStyle:{"max-width":"1500px"},attrs:{titles:e.tableTitle,tableData:e.tableData,operate:!0,flag:"system"},on:{editTable:e.editTable}}),l("my-dialog",{attrs:{flag:e.dialogTitle,dialogVisible:e.dialogVisible,dialogData:e.dialogData},on:{close:function(t){e.dialogVisible=!1},alterSystem:e.alterSystem}})],1)},o=[],i=l("b26a"),r=l("ff6a"),s={name:"system",components:{myTable:i["a"],myDialog:r["a"]},data:function(){return{tableTitle:[{prop:"id",label:"id"},{prop:"describe",label:"名称"},{prop:"originValue",label:"当前配置"}],tableData:[],dialogTitle:"系统配置修改",dialogVisible:!1,dialogData:""}},created:function(){this.getTableList()},methods:{getTableList:function(){var e=this;this.$http.getSysSetting().then((function(t){console.log(t),0==t.errorcode?e.tableData=t.data:e.$message.error(t.msg)})).catch((function(e){console.log(e)}))},editTable:function(e){if(console.log(e),this.dialogVisible=!0,"select"==e.type){e.options=[];var t=e.value;for(var l in t)e.options.push({label:l,value:t[l]});console.log(e.options)}this.dialogData=e},alterSystem:function(e,t){var l=this;console.log(e,t),this.$http.updateSysSetting({id:e,value:t}).then((function(e){console.log(e),0==e.errorcode?(l.getTableList(),l.dialogVisible=!1,l.$message.success("修改成功")):l.$message.error(e.msg)})).catch((function(e){console.log(e)}))}}},n=s,u=l("2877"),c=Object(u["a"])(n,a,o,!1,null,null,null);t["default"]=c.exports},b26a:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-table",{attrs:{data:e.tableData,"header-cell-style":e.headerColor,"cell-style":e.cellStyle,stripe:""}},[e._l(e.titles,(function(e,t){return l("el-table-column",{key:t,attrs:{prop:e.prop,width:e.width,label:e.label,"class-name":e.prop,align:"center"}})})),e.operate?l("el-table-column",{attrs:{label:"操作",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return["system"==e.flag?l("div",[l("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(l){return e.edit(t.row)}}},[e._v("修改配置")])],1):e._e(),"heartBeat"==e.flag?l("div",[l("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(l){return e.edit(t.row)}}},[e._v("修改状态")])],1):e._e()]}}],null,!1,2876712029)}):e._e()],2)},o=[],i={name:"tableList",props:["tableData","titles","operate","flag"],data:function(){return{}},methods:{headerColor:function(e,t){return"background:\trgb(230, 230, 230);color:rgb(96, 98, 102)"},cellStyle:function(e,t,l,a){return"status"!=e.column.className||"成功"!=e.row.status&&"正在运行"!=e.row.status?"status"!=e.column.className||"失败"!=e.row.status&&"已停止"!=e.row.status?void 0:"color:rgba(255,147,117,1)":"color:rgba(16,217,176,1)"},edit:function(e){this.$emit("editTable",e)}}},r=i,s=(l("d9d4"),l("2877")),n=Object(s["a"])(r,a,o,!1,null,null,null);t["a"]=n.exports},bdce:function(e,t,l){},d9d4:function(e,t,l){"use strict";var a=l("bdce"),o=l.n(a);o.a},ff6a:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"dialogBox"}},["登录"==e.flag?l("el-dialog",{attrs:{title:e.flag,visible:e.dialogVisible,width:"500px","before-close":e.handleClose,center:"","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"auto"}},[l("el-form-item",{attrs:{label:"用户",prop:"userName",rules:[{required:!0,message:"用户账号不能为空"}]}},[l("el-input",{attrs:{placeholder:"请输入用户账号"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),l("el-form-item",{attrs:{label:"密码",prop:"passwrod",rules:[{required:!0,message:"密码不能为空"}]}},[l("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.ruleForm.passwrod,callback:function(t){e.$set(e.ruleForm,"passwrod",t)},expression:"ruleForm.passwrod"}})],1),l("el-form-item",{attrs:{label:"地址",prop:"path"}},[l("el-input",{attrs:{placeholder:"请输入通讯path路径"},model:{value:e.ruleForm.path,callback:function(t){e.$set(e.ruleForm,"path",t)},expression:"ruleForm.path"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1):e._e(),"系统配置修改"==e.flag?l("el-dialog",{attrs:{title:e.flag,visible:e.dialogVisible,width:"600px","before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{staticClass:"demo-ruleForm",attrs:{"label-width":"auto"}},[l("el-form-item",{attrs:{label:e.dialogData.describe}},["text"==e.dialogData.type?l("el-input",{attrs:{placeholder:""},model:{value:e.dialogData.originValue,callback:function(t){e.$set(e.dialogData,"originValue",t)},expression:"dialogData.originValue"}}):e._e(),"select"==e.dialogData.type?l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.dialogData.originValue,callback:function(t){e.$set(e.dialogData,"originValue",t)},expression:"dialogData.originValue"}},e._l(e.dialogData.options,(function(e,t){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.alterSystem(e.dialogData.id,e.dialogData.originValue)}}},[e._v("确 定")])],1)],1):e._e()],1)},o=[],i={name:"myDialog",components:{},props:["flag","dialogVisible","dialogData"],data:function(){return{ruleForm:{userName:"wangyong",passwrod:"888888",path:"http://172.25.193.102"}}},methods:{handleClose:function(){this.$emit("close")},submit:function(e){console.log(e),this.$emit("submit")},alterSystem:function(e,t){this.$emit("alterSystem",e,t)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(console.log(e),!e)return!1;console.log(t.ruleForm),t.$vdcp.login(t.ruleForm.userName,t.ruleForm.passwrod,t.ruleForm.path),t.handleClose()}))}}},r=i,s=l("2877"),n=Object(s["a"])(r,a,o,!1,null,null,null);t["a"]=n.exports}}]);
//# sourceMappingURL=chunk-a56f4bac.c90f04aa.js.map