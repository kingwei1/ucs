(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["meeting"],{"245a":function(e,t,E){"use strict";const i=[{ORG_ID:"1001",SIGNIN_CODE:"80001",ITEM_TYPE:"2",AGENT_ID:"",ICP_CODE:"70003",ORG_NAME:"深圳市建筑工务署",LONGITUDE:"113.951929",USER_STATE:"3",USER_NAME:"海关",PAR_ORG:"0",EMAIL:"123@qq.com",USER_CODE:"1",TRANSPORT:"",USER_TYPE:"3",SIGNIN_PWD:"cti-1234",REPORT_TIME:"2020-01-08 17:01:41",LATITUDE:"22.53153",USER_ACCOUNT:"wangyong",MOBILE:"13554326789",USER_ICON:"/Header/1.png"},{ORG_ID:"1001",ITEM_TYPE:"2",SIGNIN_CODE:"",AGENT_ID:"",ICP_CODE:"70002",ORG_NAME:"深圳市建筑工务署",LONGITUDE:"4.9E-324",USER_STATE:"3",USER_NAME:"xiehuadong",PAR_ORG:"0",EMAIL:"",USER_CODE:"32300",TRANSPORT:"",USER_TYPE:"3",SIGNIN_PWD:"",REPORT_TIME:"2019-12-20 17:20:07",LATITUDE:"4.9E-324",USER_ACCOUNT:"xiehuadong",MOBILE:"",USER_ICON:"/Header/32300.png"},{ORG_ID:"1001",SIGNIN_CODE:"",AGENT_ID:"",ITEM_TYPE:"2",ICP_CODE:"70001",ORG_NAME:"深圳市建筑工务署",USER_STATE:"3",USER_NAME:"lijiaming",PAR_ORG:"0",USER_CODE:"32306",TRANSPORT:"",USER_TYPE:"3",SIGNIN_PWD:"",USER_ACCOUNT:"lijiaming",USER_ICON:"/Header/32306.png"}],n=[{ORG_ID:"55",DEVICE_SHORT:"走廊西-东向",SITE_ID:"15",IS_VOICE:"1",IS_MOBILE:"0",ITEM_TYPE:"1",ORG_NAME:"深圳海关",TYPE_BAGD:"iconditu",LONGITUDE:"113.95",DEVICE_NAME:"走廊西-东向",SITE_NAME:"星网",DEVICE_CODE:"07530860000000000101#db862a982c8d4834ba4b47ed0287405d",P_NODE_ID:"4403",DISTRICT_SNO:"4403",DISTRICT_NAME:"深圳海关",TYPE_COL:"#e2b11c",TYPE_ID:"1",TYPE_ICO:"iconjiankong",TYPE_NAME:"监控",DEVICE_ID:"900067",LATITUDE:"22.53",ADDR_NAME:"广东省深圳市南山区粤海街道白石路3635号深圳湾科技生态园"},{ORG_ID:"55",DEVICE_SHORT:"办公A区东北",SITE_ID:"15",IS_VOICE:"1",ITEM_TYPE:"1",IS_MOBILE:"0",ORG_NAME:"深圳海关",TYPE_BAGD:"iconditu",LONGITUDE:"113.93",DEVICE_NAME:"办公A区东北",SITE_NAME:"星网",DEVICE_CODE:"05262240000000000101#db862a982c8d4834ba4b47ed0287405d",P_NODE_ID:"4403",DISTRICT_SNO:"4403",DISTRICT_NAME:"深圳海关",TYPE_COL:"#e2b11c",TYPE_ID:"1",TYPE_ICO:"iconjiankong",TYPE_NAME:"监控",DEVICE_ID:"900071",LATITUDE:"22.54",ADDR_NAME:"广东省深圳市南山区粤海街道深圳大学贮能材料研究中心深圳大学粤海校区",REMARK:"办公A区东北"},{ORG_ID:"54",DEVICE_SHORT:"公司无人机",IS_VOICE:"1",IS_MOBILE:"0",ITEM_TYPE:"1",ORG_NAME:"中国海关",TYPE_BAGD:"iconditu",DEVICE_NAME:"公司无人机",DEVICE_CODE:"8989",P_NODE_ID:"4403",DISTRICT_SNO:"4403",DISTRICT_NAME:"深圳海关",TYPE_COL:"#e2b11c",TYPE_ID:"1",TYPE_ICO:"iconjiankong",TYPE_NAME:"监控",DEVICE_ID:"910001"}];function _(){return i||[]}function s(){return n||[]}E.d(t,"b",(function(){return _})),E.d(t,"a",(function(){return s}))},a0ee:function(e,t,E){"use strict";E.r(t);var i=function(){var e=this,t=e.$createElement,E=e._self._c||t;return E("div",{staticClass:"meeting-page-wrap"},[E("div",{staticClass:"button-wrap"},[E("el-form",{attrs:{model:e.meetingForm,size:"small",inline:!0}},[E("el-form-item",{attrs:{label:"会议名称",prop:"meetingName",rules:{required:!0,message:"请输入会议名称",trigger:"blur"}}},[E("el-input",{attrs:{placeholder:"请输入会议名称"},model:{value:e.meetingForm.meetingName,callback:function(t){e.$set(e.meetingForm,"meetingName",t)},expression:"meetingForm.meetingName"}})],1),E("el-form-item",[E("el-button",{attrs:{type:"primary",disabled:!e.meetingForm.meetingName},on:{click:e.startMeeting}},[e._v("开启会议")])],1)],1)],1),E("div",{staticClass:"table-wrap"},[E("div",{staticClass:"list-wrap"},[E("div",{staticClass:"title"},[e._v("用户列表")]),E("el-table",{ref:"meetingUserList",attrs:{border:"",data:e.userList,height:"500"},on:{"selection-change":e.handleUserChange}},[E("el-table-column",{attrs:{type:"selection",width:"50"}}),E("el-table-column",{attrs:{label:"ID",prop:"USER_CODE"}}),E("el-table-column",{attrs:{label:"用户名",prop:"USER_NAME"}})],1)],1),E("div",{staticClass:"list-wrap"},[E("div",{staticClass:"title"},[e._v("设备列表")]),E("el-table",{ref:"meetingDeviceList",attrs:{border:"",data:e.equipmentList,height:"500"},on:{"selection-change":e.handleEquipmentChange}},[E("el-table-column",{attrs:{type:"selection",width:"50"}}),E("el-table-column",{attrs:{label:"ID",prop:"DEVICE_ID"}}),E("el-table-column",{attrs:{label:"设备名称",prop:"DEVICE_NAME"}})],1)],1),E("div",{staticClass:"logs-view"},e._l(e.selfLogs,(function(t,i){return E("div",{key:i,staticClass:"log-item",domProps:{innerHTML:e._s(t)}})})),0)])])},n=[],_=E("245a"),s={name:"meeting",data(){return{userList:[],equipmentList:[],selectUserList:[],selectEquipmentList:[],meetingForm:{meetingName:""}}},created(){this.userList=Object(_["b"])(),this.equipmentList=Object(_["a"])()},computed:{meetingList(){return this.selectUserList.concat(this.selectEquipmentList).map(e=>this.handleMeetingPersonData(e))}},methods:{handleUserChange(e){this.selectUserList=e},handleEquipmentChange(e){this.selectEquipmentList=e,console.log("handleEquipmentChange",e)},async startMeeting(){if(!this.$xw.userInfo)return this.$message.error("请先登录");if(!this.meetingList.length)return this.$message.error("请选择会议人员");const e={meetingName:this.meetingForm.meetingName,members:this.meetingList};this.setLog({log:e,action:`开始打开会议【createConf】:会议名称[${e.meetingName}]`});const t=await this.$xw.createConf(e);200===t.status?(this.$message.success("开启会议成功"),this.setLog({log:t.msg,action:"开启会议【createConf】成功"})):(this.$message.error(`开启会议失败: ${t.msg}`),this.setLog({log:t.msg,action:"开启会议【createConf】失败"}))},handleMeetingPersonData(e){console.log("item",e);const t={};return t.OBJ_TYPE=e.OBJ_TYPE?String(e.OBJ_TYPE):String(e.ITEM_TYPE),t.OBJ_ID="1"===t.OBJ_TYPE?String(e.DEVICE_ID):"2"===t.OBJ_TYPE?String(e.USER_CODE):"3"===t.OBJ_TYPE?String(e.PERSON_ID):String(e.UNIT_ID),t.OBJ_NAME="1"===t.OBJ_TYPE?e.DEVICE_NAME:"2"===t.OBJ_TYPE?e.USER_NAME:"3"===t.OBJ_TYPE?e.PERSON_NAME:e.UNIT_NAME,t.PART_DEV=1,t.PART_SNO="1"===t.OBJ_TYPE?String(e.DEVICE_CODE):"2"===t.OBJ_TYPE?String(e.ICP_CODE):"3"===t.OBJ_TYPE?String(e.PERSON_PHONE):String(e.UNIT_TEL),t.GLASS_NUM=e.GLASS_NUM||"",t.USER_TYPE=e.USER_TYPE,t.TYPE_COL=e.TYPE_COL||"",t.TYPE_BAGD=e.TYPE_BAGD||"",t.TYPE_ICO=e.TYPE_ICO,t.USER_ICON=e.USER_ICON||"",t}}},a=s,r=(E("f2cc"),E("2877")),I=Object(r["a"])(a,i,n,!1,null,"40a0e614",null);t["default"]=I.exports},d46b:function(e,t,E){},f2cc:function(e,t,E){"use strict";var i=E("d46b"),n=E.n(i);n.a}}]);