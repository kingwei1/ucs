(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["point-call"],{"0d77":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"video-point-call-wrap"},[e("el-button",{attrs:{type:"primary"},on:{click:t.startVideoPointCall}},[t._v("发起视频点呼")]),e("el-button",{attrs:{type:"primary"},on:{click:t.listenCallInEvent}},[t._v("监听视频点呼来电事件")]),e("el-button",{attrs:{type:"danger"},on:{click:t.listenHangOffEvent}},[t._v("监听视频点呼挂机事件")]),e("div",{staticClass:"log-views"},t._l(t.selfLogs,(function(s,i){return e("div",{key:i,staticClass:"log-item",domProps:{innerHTML:t._s(s)}})})),0)],1)},o=[],n={name:"videoPointCall",data(){return{}},created(){this.listenCallInEvent(),this.listenHangOffEvent()},methods:{startVideoPointCall(){this.setLog({log:"开始主动发起视频点呼"}),this.$xw.dialVideo({userAccount:"zhangjiancheng1"}).then(t=>{console.log(t)}).catch(t=>{console.log(t)})},stopVideoPointCall(){this.$xw.dialVideoHangUp(),this.setLog({log:"开始主动停止视频点呼"})},async listenCallInEvent(){this.setLog({log:"开始监听视频点呼来电事件"});const t=await this.$xw.listen("OnDialVideoRequest",t=>{this.setLog({log:t,action:"收到事件触发信息: [OnDialVideoRequest]"})});200===t.status?(this.setLog({log:t.msg,action:"新增事件监听:[OnDialVideoRequest]"}),this.$message.success("监听成功")):(this.setLog({log:t.msg,action:"添加事件监听[OnDialVideoRequest]"}),this.$message.error(`监听失败: ${t.msg}`))},async listenHangOffEvent(){this.setLog({log:"开始监听视频点呼挂机事件"});const t=await this.$xw.listen("OnDialVideoDropped",t=>{console.log("。。。商店圣诞节"),this.setLog({log:t,action:"收到事件触发信息: [OnDialVideoDropped]"})});200===t.status?(this.setLog({log:t.msg,action:"新增事件监听:[OnDialVideoDropped]"}),this.$message.success("监听成功")):(this.setLog({log:t.msg,action:"添加事件监听[OnDialVideoDropped]"}),this.$message.error(`监听失败: ${t.msg}`))}}},a=n,l=e("2877"),c=Object(l["a"])(a,i,o,!1,null,"9898ab44",null);s["default"]=c.exports},e51e:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"audio-point-call-wrap"},[e("el-button",{attrs:{type:"primary",disabled:t.isCalling},on:{click:t.startAudioPoint}},[t._v("发起音频呼叫")]),e("el-button",{attrs:{type:"primary"},on:{click:t.listenCallInEvent}},[t._v("监听语音点呼来电事件")]),e("el-button",{attrs:{type:"danger"},on:{click:t.listenHangOffEvent}},[t._v("监听语音点呼挂机事件")]),e("div",{staticClass:"log-views"},t._l(t.selfLogs,(function(s,i){return e("div",{key:i,staticClass:"log-item",domProps:{innerHTML:t._s(s)}})})),0)],1)},o=[],n={name:"audioPointCall",data(){return{isCalling:!1,logs:[]}},created(){this.listenCallInEvent(),this.listenHangOffEvent()},methods:{async startAudioPoint(){this.setLog({log:"开始主动发起音频语音点呼"});const t="zhangjiancheng1";let s=await this.$xw.dialVoice({userAccount:t});200===s.status?(this.setLog({log:s.msg,action:`语音点呼【dialVoice】：${t}`}),this.$message.success("语音点呼成功")):(this.setLog({log:s.msg,action:`语音点呼【dialVoice】：${t}`}),this.$message.error(`语音点呼失败: ${s.msg}`))},stopAudioPoint(){this.$xw.dialVoiceHangUp(),this.setLog({log:"开始主动停止音频语音点呼"})},async listenCallInEvent(){this.setLog({log:"开始监听语音点呼来电事件"});const t=await this.$xw.listen("OnDialVoiceRequest",t=>{this.setLog({log:t,action:"收到事件触发信息: [OnDialVoiceRequest]"})});200===t.status?(this.setLog({log:t.msg,action:"新增事件监听:[OnDialVoiceRequest]"}),this.$message.success("监听成功")):(this.setLog({log:t.msg,action:"添加事件监听[OnDialVoiceRequest]"}),this.$message.error(`监听失败: ${t.msg}`))},async listenHangOffEvent(){this.setLog({log:"开始监听语音点呼挂机事件"});const t=await this.$xw.listen("OnDialVoiceDropped",t=>{this.setLog({log:t,action:"收到事件触发信息: [OnDialVoiceDropped]"})});200===t.status?(this.setLog({log:t.msg,action:"新增事件监听:[OnDialVoiceDropped]"}),this.$message.success("监听成功")):(this.setLog({log:t.msg,action:"添加事件监听[OnDialVoiceDropped]"}),this.$message.error(`监听失败: ${t.msg}`))}}},a=n,l=e("2877"),c=Object(l["a"])(a,i,o,!1,null,"373cde0c",null);s["default"]=c.exports}}]);